app-id: org.x.Warpinator
runtime: org.gnome.Platform
runtime-version: '3.36'
sdk: org.gnome.Sdk
command: warpinator
finish-args:
  - --share=ipc
  - --socket=x11
  - --share=network
  - --filesystem=home
  - --talk-name=org.freedesktop.FileManager1
modules:
  - name: warpinator
    buildsystem: meson
    config-opts:
      - -Ddesktop-id=org.x.Warpinator
      - -Dinclude-firewall-mod=false
    sources:
      - type: git
        url: https://github.com/linuxmint/warpinator.git
        branch: master
        # tag: version tag...
    modules:
      # See module_requires.txt
      - python_modules/python3-modules.json

      # Preference widgets
      - name: python-xapp
        buildsystem: simple
        build-commands:
          - python3 setup.py build
          - python3 setup.py install --prefix=/app
        sources:
          - type: git
            url: https://github.com/linuxmint/python3-xapp.git
            tag: 2.0.1

      # Progress reporting, status icon
      - name: xapps
        buildsystem: meson
        config-opts:
          - -Dapp-lib-only=true
          - -Dpy-overrides-dir=/app/lib/python3.7/site-packages/gi/overrides
        sources:
          - type: git
            url: https://github.com/linuxmint/xapp.git
            branch: master
            # tag: version tag...
cleanup:
  - /bin/wheel
  - /include
  - /lib/debug/source
  - /lib/pkgconfig
  - /share/gir-1.0
  - /share/vala
  - /share/icons/hicolor/icon-theme.cache

